{% load svg %}
{% load util %}
{% with 
    hostname=header.hostname
    generated_at=header.generated_at
    alerts=header.alerts
%}
<section class="card header" aria-label="header">
    <div class="header-top">
        <div class="header-left">
            <div class="title">
                <span class="icon">{% svg "svg/tabler/home.svg" %}</span>
                <span>Home Status</span>
            </div>
            <div class="meta">
                <span>Host: {{ hostname|default:"raspi" }}</span>
            </div>
        </div>
        <div class="header-right">
            <span class="badge badge-accent">Generated: {{ generated_at|date:"H:i" }}</span>
        </div>
    </div>

    {% if alerts %}
    <div class="alerts">
        {% for a in alerts %}
        <div class="alert {{ a.level|default:'info' }}">
            {% include "dashboard/partials/alert-icon.html" with level=a.level only %}
            <span>{{ a.message }}</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</section>

{% endwith %}
