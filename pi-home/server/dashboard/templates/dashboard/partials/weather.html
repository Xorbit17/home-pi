{% load svg %}
{% load util %}
{% load static %}
{% with updated_at=weather.updated_at days=weather.days %}

<section class="card weather" aria-label="weather">
    <header class="section-header">
        <h2><span class="icon">{% svg "svg/tabler/sun.svg" %}</span> Weather</h2>
        <small>Updated: {{ updated_at|longdate }}</small>
    </header>
    <div class="weather-cards">
        {% for day in weather.days %}
        <article class="weather-card">
            <div class="wc-title">{{ day.label }}</div>
            <div class="wc-temp">
                <span class="wc-tmax">{{ day.tmax }}°</span>
                <span class="wc-tmin">{{ day.tmin }}°</span>
            </div>
            <div class="wc-desc">{{ day.summary }}</div>
            <div class="wc-meta">
                <span>Wind: {{ day.wind_bft }}</span>
                <span>Rain: {{ day.rain_chance_percent }}%</span>
            </div>
            {% include "dashboard/partials/weather-icon.html" with weather_icon=day.icon%}
        </article>
        {% endfor %}
    </div>
</section>
{% endwith %}
